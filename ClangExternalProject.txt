include(ExternalProject)
find_package(Git REQUIRED)
include(GNUInstallDirs)

ExternalProject_Add(
  EnumivoClang
  CMAKE_ARGS -DCMAKE_INSTALL_PREFIX=${CMAKE_INSTALL_PREFIX}/llvm -DCMAKE_BUILD_TYPE=Release -DBOOST_ROOT=${BOOST_ROOT} -DSDK_INSTALL_PREFIX=${CMAKE_INSTALL_PREFIX} -DENUMIVO_VER_MAJOR=${VERSION_MAJOR} -DENUMIVO_VER_MINOR=${VERSION_MINOR} -DENUMIVO_VER_REVISION=${VERSION_PATCH} -DENUMIVO_STACK_SIZE=8192

  SOURCE_DIR "${CMAKE_SOURCE_DIR}/enumivo_llvm"
  UPDATE_COMMAND ""
  PATCH_COMMAND  ""
  TEST_COMMAND   ""
  INSTALL_COMMAND ""
  BUILD_ALWAYS 1
)
